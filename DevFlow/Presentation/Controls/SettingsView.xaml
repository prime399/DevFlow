<UserControl x:Class="DevFlow.Presentation.Controls.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="using:DevFlow.Presentation.Controls"
             xmlns:settings="using:DevFlow.Services.Settings">

    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled"
                  Background="{StaticResource AppBackgroundBrush}">
        <StackPanel Spacing="32" Padding="32">
            
            <!-- Page Title -->
            <TextBlock Text="Settings"
                       x:Uid="Settings.PageTitle"
                       FontFamily="{StaticResource AppFontFamilySemiBold}"
                       FontSize="{StaticResource FontSizeHeader}"
                       Foreground="{StaticResource TextPrimaryBrush}" />

            <!-- General Section -->
            <Border Background="{StaticResource SurfaceBrush}"
                    CornerRadius="12"
                    Padding="24">
                <Grid RowDefinitions="Auto,Auto,*" ColumnDefinitions="200,*">
                    <!-- Section Header -->
                    <StackPanel Grid.Row="0" Grid.Column="0" Spacing="4">
                        <TextBlock Text="General"
                                   x:Uid="Settings.General.Title"
                                   FontFamily="{StaticResource AppFontFamilySemiBold}"
                                   FontSize="{StaticResource FontSizeTitle}"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBlock Text="General settings used in the application"
                                   x:Uid="Settings.General.Description"
                                   FontFamily="{StaticResource AppFontFamily}"
                                   FontSize="{StaticResource FontSizeSmall}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   TextWrapping="Wrap" />
                    </StackPanel>

                    <!-- Settings Content -->
                    <StackPanel Grid.Row="0" Grid.Column="1" Grid.RowSpan="3" Spacing="24">
                        
                        <!-- Language Setting -->
                        <StackPanel Spacing="8">
                            <TextBlock Text="Language"
                                       x:Uid="Settings.Language.Title"
                                       FontFamily="{StaticResource AppFontFamilyMedium}"
                                       FontSize="{StaticResource FontSizeBody}"
                                       Foreground="{StaticResource TextPrimaryBrush}" />
                            
                            <ComboBox x:Name="LanguageComboBox"
                                      MinWidth="280"
                                      SelectionChanged="LanguageComboBox_SelectionChanged"
                                      PlaceholderText="Select language"
                                      Style="{StaticResource SettingsComboBoxStyle}"
                                      ItemContainerStyle="{StaticResource SettingsComboBoxItemStyle}">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate x:DataType="settings:LanguageOption">
                                        <Grid ColumnDefinitions="Auto,*,Auto" MinHeight="28">
                                            <FontIcon Grid.Column="0" 
                                                      Glyph="&#xE774;" 
                                                      FontSize="16" 
                                                      Foreground="{StaticResource AccentPrimaryBrush}"
                                                      VerticalAlignment="Center"
                                                      Margin="0,0,12,0" />
                                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                                <TextBlock Text="{x:Bind NativeName}" 
                                                           Foreground="{StaticResource TextPrimaryBrush}"
                                                           FontFamily="{StaticResource AppFontFamilyMedium}"
                                                           FontSize="{StaticResource FontSizeBody}" />
                                                <TextBlock Text="{x:Bind EnglishName}" 
                                                           Foreground="{StaticResource TextMutedBrush}"
                                                           FontFamily="{StaticResource AppFontFamily}"
                                                           FontSize="{StaticResource FontSizeSmall}" />
                                            </StackPanel>
                                            <TextBlock Grid.Column="2" 
                                                       Text="{x:Bind Code}" 
                                                       Foreground="{StaticResource TextSubtleBrush}"
                                                       FontFamily="{StaticResource MonospaceFontFamily}"
                                                       FontSize="{StaticResource FontSizeSmall}"
                                                       VerticalAlignment="Center"
                                                       Margin="12,0,0,0" />
                                        </Grid>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>
                            
                            <!-- Current Language Info -->
                            <TextBlock x:Name="CurrentLanguageText"
                                       Text=""
                                       FontFamily="{StaticResource AppFontFamily}"
                                       FontSize="{StaticResource FontSizeSmall}"
                                       Foreground="{StaticResource TextMutedBrush}"
                                       Margin="0,4,0,0" />
                            
                            <!-- Restart Notice -->
                            <Border x:Name="RestartNotice" 
                                    Background="{StaticResource SurfaceVariantBrush}"
                                    CornerRadius="6"
                                    Padding="12,8"
                                    Visibility="Collapsed"
                                    Margin="0,8,0,0">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE946;" 
                                              FontSize="14" 
                                              Foreground="{StaticResource WarningBrush}" />
                                    <TextBlock Text="App restart required to apply language change"
                                               x:Uid="Settings.Language.RestartNotice"
                                               FontFamily="{StaticResource AppFontFamily}"
                                               FontSize="{StaticResource FontSizeSmall}"
                                               Foreground="{StaticResource WarningBrush}" />
                                </StackPanel>
                            </Border>
                        </StackPanel>

                    </StackPanel>
                </Grid>
            </Border>

            <!-- Theme Section -->
            <Border Background="{StaticResource SurfaceBrush}"
                    CornerRadius="12"
                    Padding="24">
                <Grid RowDefinitions="Auto,*" ColumnDefinitions="200,*">
                    <!-- Section Header -->
                    <StackPanel Grid.Row="0" Grid.Column="0" Spacing="4">
                        <TextBlock Text="Theme"
                                   x:Uid="Settings.Theme.Title"
                                   FontFamily="{StaticResource AppFontFamilySemiBold}"
                                   FontSize="{StaticResource FontSizeTitle}"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBlock Text="Customize your application theme"
                                   x:Uid="Settings.Theme.Description"
                                   FontFamily="{StaticResource AppFontFamily}"
                                   FontSize="{StaticResource FontSizeSmall}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   TextWrapping="Wrap" />
                    </StackPanel>

                    <!-- Theme Content -->
                    <StackPanel Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" Spacing="16">
                        
                        <!-- Background Theme -->
                        <StackPanel Spacing="8">
                            <TextBlock Text="Background"
                                       x:Uid="Settings.Theme.Background"
                                       FontFamily="{StaticResource AppFontFamilyMedium}"
                                       FontSize="{StaticResource FontSizeBody}"
                                       Foreground="{StaticResource TextPrimaryBrush}" />
                            <TextBlock x:Name="ThemeDescription"
                                       Text="Dark"
                                       FontFamily="{StaticResource AppFontFamily}"
                                       FontSize="{StaticResource FontSizeSmall}"
                                       Foreground="{StaticResource TextMutedBrush}" />
                            
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <RadioButton x:Name="ThemeSystem" 
                                             GroupName="Theme" 
                                             Click="Theme_Click"
                                             Tag="System"
                                             Style="{StaticResource IconRadioButtonStyle}">
                                    <FontIcon Glyph="&#xE770;" FontSize="18" />
                                </RadioButton>
                                <RadioButton x:Name="ThemeLight" 
                                             GroupName="Theme" 
                                             Click="Theme_Click"
                                             Tag="Light"
                                             Style="{StaticResource IconRadioButtonStyle}">
                                    <FontIcon Glyph="&#xE706;" FontSize="18" />
                                </RadioButton>
                                <RadioButton x:Name="ThemeDark" 
                                             GroupName="Theme" 
                                             IsChecked="True"
                                             Click="Theme_Click"
                                             Tag="Dark"
                                             Style="{StaticResource IconRadioButtonStyle}">
                                    <FontIcon Glyph="&#xE708;" FontSize="18" />
                                </RadioButton>
                            </StackPanel>
                        </StackPanel>

                        <!-- Accent Color (placeholder for future) -->
                        <StackPanel Spacing="8" Margin="0,16,0,0">
                            <TextBlock Text="Accent color"
                                       x:Uid="Settings.Theme.AccentColor"
                                       FontFamily="{StaticResource AppFontFamilyMedium}"
                                       FontSize="{StaticResource FontSizeBody}"
                                       Foreground="{StaticResource TextPrimaryBrush}" />
                            <TextBlock Text="Purple"
                                       FontFamily="{StaticResource AppFontFamily}"
                                       FontSize="{StaticResource FontSizeSmall}"
                                       Foreground="{StaticResource TextMutedBrush}" />
                            
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <RadioButton GroupName="AccentColor" IsChecked="True" 
                                             Style="{StaticResource ColorRadioButtonStyle}">
                                    <Ellipse Width="20" Height="20" Fill="{StaticResource AccentPrimaryBrush}" />
                                </RadioButton>
                                <RadioButton GroupName="AccentColor" 
                                             Style="{StaticResource ColorRadioButtonStyle}">
                                    <Ellipse Width="20" Height="20" Fill="{StaticResource SuccessBrush}" />
                                </RadioButton>
                                <RadioButton GroupName="AccentColor"
                                             Style="{StaticResource ColorRadioButtonStyle}">
                                    <Ellipse Width="20" Height="20" Fill="{StaticResource InfoBrush}" />
                                </RadioButton>
                                <RadioButton GroupName="AccentColor"
                                             Style="{StaticResource ColorRadioButtonStyle}">
                                    <Ellipse Width="20" Height="20" Fill="{StaticResource WarningBrush}" />
                                </RadioButton>
                                <RadioButton GroupName="AccentColor"
                                             Style="{StaticResource ColorRadioButtonStyle}">
                                    <Ellipse Width="20" Height="20" Fill="{StaticResource ErrorBrush}" />
                                </RadioButton>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Save Button Section -->
            <Border Background="{StaticResource SurfaceBrush}"
                    CornerRadius="12"
                    Padding="24">
                <Grid ColumnDefinitions="*,Auto,Auto">
                    <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                        <TextBlock x:Name="StatusText"
                                   Text=""
                                   FontFamily="{StaticResource AppFontFamily}"
                                   FontSize="{StaticResource FontSizeSmall}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   VerticalAlignment="Center" />
                    </StackPanel>
                    
                    <Button x:Name="ResetButton"
                            Grid.Column="1"
                            Content="Reset"
                            x:Uid="Settings.ResetButton"
                            Click="ResetButton_Click"
                            Margin="0,0,12,0"
                            Background="{StaticResource SurfaceVariantBrush}"
                            Foreground="{StaticResource TextPrimaryBrush}"
                            Padding="24,10"
                            CornerRadius="6" />
                    
                    <Button x:Name="SaveButton"
                            Grid.Column="2"
                            Content="Save Settings"
                            x:Uid="Settings.SaveButton"
                            Click="SaveButton_Click"
                            Background="{StaticResource AccentPrimaryBrush}"
                            Foreground="{StaticResource OverlayBrush}"
                            Padding="24,10"
                            CornerRadius="6" />
                </Grid>
            </Border>

            <!-- About Section -->
            <Border Background="{StaticResource SurfaceBrush}"
                    CornerRadius="12"
                    Padding="24">
                <Grid RowDefinitions="Auto,*" ColumnDefinitions="200,*">
                    <!-- Section Header -->
                    <StackPanel Grid.Row="0" Grid.Column="0" Spacing="4">
                        <TextBlock Text="About"
                                   x:Uid="Settings.About.Title"
                                   FontFamily="{StaticResource AppFontFamilySemiBold}"
                                   FontSize="{StaticResource FontSizeTitle}"
                                   Foreground="{StaticResource TextPrimaryBrush}" />
                        <TextBlock Text="Application information"
                                   x:Uid="Settings.About.Description"
                                   FontFamily="{StaticResource AppFontFamily}"
                                   FontSize="{StaticResource FontSizeSmall}"
                                   Foreground="{StaticResource TextMutedBrush}"
                                   TextWrapping="Wrap" />
                    </StackPanel>

                    <!-- About Content -->
                    <StackPanel Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" Spacing="16">
                        <StackPanel Spacing="4">
                            <TextBlock Text="DevFlow API Lab"
                                       FontFamily="{StaticResource AppFontFamilySemiBold}"
                                       FontSize="{StaticResource FontSizeSubtitle}"
                                       Foreground="{StaticResource TextPrimaryBrush}" />
                            <TextBlock Text="Version 1.0.0"
                                       FontFamily="{StaticResource AppFontFamily}"
                                       FontSize="{StaticResource FontSizeSmall}"
                                       Foreground="{StaticResource TextMutedBrush}" />
                        </StackPanel>
                        
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Border Background="{StaticResource SurfaceVariantBrush}"
                                    CornerRadius="6"
                                    Padding="12,8">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <Image Source="ms-appx:///Assets/Images/uno-logo.png"
                                           Width="20" Height="20"
                                           VerticalAlignment="Center" />
                                    <TextBlock Text="Built with Uno Platform"
                                               x:Uid="Settings.About.BuiltWith.Uno"
                                               FontFamily="{StaticResource AppFontFamily}"
                                               FontSize="{StaticResource FontSizeSmall}"
                                               Foreground="{StaticResource TextSecondaryBrush}"
                                               VerticalAlignment="Center" />
                                </StackPanel>
                            </Border>
                            
                            <Border Background="{StaticResource SurfaceVariantBrush}"
                                    CornerRadius="6"
                                    Padding="12,8">
                                <StackPanel Orientation="Horizontal" Spacing="8">
                                    <FontIcon Glyph="&#xE7C8;" FontSize="16" 
                                              Foreground="{StaticResource InfoBrush}" />
                                    <TextBlock Text=".NET 10"
                                               FontFamily="{StaticResource AppFontFamily}"
                                               FontSize="{StaticResource FontSizeSmall}"
                                               Foreground="{StaticResource TextSecondaryBrush}"
                                               VerticalAlignment="Center" />
                                </StackPanel>
                            </Border>
                        </StackPanel>

                        <HyperlinkButton Content="Learn more about Uno Platform"
                                         x:Uid="Settings.About.LearnMore"
                                         NavigateUri="https://platform.uno"
                                         Foreground="{StaticResource AccentPrimaryBrush}"
                                         FontFamily="{StaticResource AppFontFamily}"
                                         FontSize="{StaticResource FontSizeSmall}"
                                         Padding="0" />
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Bottom Spacer -->
            <Rectangle Height="32" />
            
        </StackPanel>
    </ScrollViewer>
</UserControl>
